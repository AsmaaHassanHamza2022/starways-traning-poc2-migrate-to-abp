"use strict";(self.webpackChunkInspection=self.webpackChunkInspection||[]).push([[2524],{21008:(l,d,s)=>{s.d(d,{j:()=>h});var e=s(54438),r=s(7673),n=s(88141),u=s(21626);let h=(()=>{class a{http;apisBasePath="assets";productsListSource=(0,e.vPA)([]);categoriesList$=(0,e.vPA)([]);filters=(0,e.vPA)({searchKey:(0,e.vPA)(""),categoryId:(0,e.vPA)("")});displayedProductsList=(0,e.EWP)(()=>this.productsListSource().filter(t=>{const o=!this.filters().searchKey()||t.name.toLowerCase().includes(this.filters().searchKey().toLowerCase()),i=!this.filters().categoryId()||t.categoryId===this.filters().categoryId();return o&&i}));constructor(t){this.http=t,this.rehydrateDataFromLocalStorage()}getCategories(){return this.categoriesList$()?.length?(0,r.of)(this.categoriesList$()):this.http.get(`${this.apisBasePath}/categories.json`).pipe((0,n.M)(t=>{this.categoriesList$.set(t)}))}getProducts(){return this.productsList?.length?(0,r.of)():this.http.get(`${this.apisBasePath}/products.json`).pipe((0,n.M)(t=>{t.length&&(this.productsListSource.set(t),localStorage.setItem("Products",JSON.stringify(t)))}))}getProductById(t){const o=this.productsList?.find(i=>i.id===t);return(0,r.of)(o||null)}addNewProduct(t){const o=[...this.productsList];return o.unshift(t),this.productsListSource.set(o),(0,r.of)(!0)}updateProduct(t,o){const i=this.productsList.findIndex(f=>f.id===o);return i>-1?(this.productsList[i]=t,this.productsListSource.set([...this.productsList]),(0,r.of)(!0)):(0,r.of)(!1)}deleteProduct(t){return this.productsList.splice(t,1),this.productsListSource.set([...this.productsList]),(0,r.of)(!0)}searchOnProducts(t){this.filters().searchKey.set(t)}filterProductsBasedOnCategory(t){this.filters().categoryId.set(t)}rehydrateDataFromLocalStorage(){this.productsList.length||this.productsListSource.set(JSON.parse(localStorage.getItem("Products")))}resetFilter(){this.filters.set({searchKey:(0,e.vPA)(""),categoryId:(0,e.vPA)("")})}get productsList(){return this.productsListSource()??[]}get displayedProducts(){return this.displayedProductsList()??[]}static \u0275fac=function(o){return new(o||a)(e.KVO(u.Qq))};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})()},2524:(l,d,s)=>{s.r(d),s.d(d,{ProductManagementModule:()=>a});var e=s(58780),r=s(54438);const n=[{path:"",loadComponent:()=>Promise.all([s.e(72076),s.e(89933)]).then(s.bind(s,89933)),pathMatch:"full"},{path:"add",loadComponent:()=>s.e(72076).then(s.bind(s,4549))},{path:"edit/:id",loadComponent:()=>s.e(72076).then(s.bind(s,4549))}];let u=(()=>{class c{static \u0275fac=function(i){return new(i||c)};static \u0275mod=r.$C({type:c});static \u0275inj=r.G2t({imports:[e.iI.forChild(n),e.iI]})}return c})();var h=s(21008);let a=(()=>{class c{static \u0275fac=function(i){return new(i||c)};static \u0275mod=r.$C({type:c});static \u0275inj=r.G2t({providers:[h.j],imports:[u]})}return c})()}}]);