"use strict";(self.webpackChunkInspection=self.webpackChunkInspection||[]).push([[89933],{89933:(R,_,i)=>{i.r(_),i.d(_,{default:()=>w});var m=i(60177),t=i(54438),p=i(84341);const F=(n,r)=>r.id;function v(n,r){if(1&n&&(t.j41(0,"option",5),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.JRh(e.name)}}let P=(()=>{class n{selectedCategory=(0,t.hFB)("");categoriesList=t.hFB.required();searchOnProducts=(0,t.CGW)();filterByCategory=(0,t.CGW)();clearFilter=(0,t.CGW)();ngAfterViewChecked(){console.log("ProductFiltersComponent View Checked")}onSearch(e){this.searchOnProducts.emit(e)}onFilterByCategory(e){this.filterByCategory.emit(e)}onClearFilter(){this.clearFilter.emit()}static \u0275fac=function(a){return new(a||n)};static \u0275cmp=t.VBU({type:n,selectors:[["app-filters"]],inputs:{selectedCategory:[t.Mj6.SignalBased,"selectedCategory"],categoriesList:[t.Mj6.SignalBased,"categoriesList"]},outputs:{searchOnProducts:"searchOnProducts",filterByCategory:"filterByCategory",clearFilter:"clearFilter"},standalone:!0,features:[t.aNF],decls:12,vars:2,consts:[[1,"row","align-items-center","justify-content-between"],[1,"col-4"],["type","text","id","product_name","placeholder","Search by product Name ",1,"form-control",3,"keyup"],["id","product_Category","aria-label","Default select example",1,"form-select",3,"change","ngModel"],["selected","",3,"value"],[3,"value"],[1,"clear","d-flex","justify-content-end","my-2",3,"click"],[1,"text-warning"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"input",2),t.bIt("keyup",function(s){return o.onSearch(s)}),t.k0s()(),t.j41(3,"div",1)(4,"select",3),t.bIt("change",function(s){return o.onFilterByCategory(s)}),t.j41(5,"option",4),t.EFF(6,"Open this select menu"),t.k0s(),t.Z7z(7,v,2,2,"option",5,F),t.k0s(),t.j41(9,"div",6),t.bIt("click",function(){return o.onClearFilter()}),t.j41(10,"span",7),t.EFF(11,"Clear"),t.k0s()()()()),2&a&&(t.R7$(4),t.Y8G("ngModel",o.selectedCategory()),t.R7$(),t.Y8G("value",""),t.R7$(2),t.Dyx(o.categoriesList()))},dependencies:[p.YN,p.xH,p.y7,p.wz,p.BC,p.vS,p.X1],styles:[".clear[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0})}return n})();var I=i(58780),u=i(30791),f=i(21998),C=i(15306),b=i(90919),y=i(30946),d=i(39862),h=i(24721);let M=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[u.Ui,d.Ts,b.uG,y.pY,C.zH,h.fs,u.Ui,d.Ts,b.uG,y.pY,C.zH,h.fs]})}return n})();var T=i(4549),j=i(21008),g=i(33380);function L(n,r){if(1&n&&(t.qex(0),t.eu8(1,10),t.bVm()),2&n){t.XpG();const e=t.sdS(10);t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function O(n,r){1&n&&t.EFF(0),2&n&&t.SpI(" ",r.rowIndex+1," ")}function x(n,r){1&n&&t.EFF(0),2&n&&t.SpI(" ",r.row.name," ")}function S(n,r){1&n&&(t.EFF(0),t.nI1(1,"currency")),2&n&&t.SpI(" ",t.bMT(1,1,r.row.price)," ")}function G(n,r){1&n&&t.EFF(0),2&n&&t.SpI(" ",r.row.category," ")}function B(n,r){1&n&&(t.EFF(0),t.nI1(1,"date")),2&n&&t.SpI(" ",t.bMT(1,1,r.row.creationDate)," ")}function k(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){const o=t.eBV(e).row,c=t.XpG(2);return t.Njj(c.onEdit(o.id))}),t.EFF(1),t.nI1(2,"abpLocalization"),t.k0s(),t.j41(3,"button",16),t.bIt("click",function(){const o=t.eBV(e),c=o.rowIndex,s=o.row,l=t.XpG(2);return t.Njj(l.onDelete(s,c))}),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"::Edit")," "),t.R7$(3),t.SpI(" ",t.bMT(5,4,"::Delete")," "))}function E(n,r){if(1&n&&(t.j41(0,"ngx-datatable",11)(1,"ngx-datatable-column",12),t.nI1(2,"abpLocalization"),t.DNE(3,O,1,1,"ng-template",13),t.k0s(),t.j41(4,"ngx-datatable-column",12),t.nI1(5,"abpLocalization"),t.DNE(6,x,1,1,"ng-template",13),t.k0s(),t.j41(7,"ngx-datatable-column",12),t.nI1(8,"abpLocalization"),t.DNE(9,S,2,3,"ng-template",13),t.k0s(),t.j41(10,"ngx-datatable-column",12),t.nI1(11,"abpLocalization"),t.DNE(12,G,1,1,"ng-template",13),t.k0s(),t.j41(13,"ngx-datatable-column",12),t.nI1(14,"abpLocalization"),t.DNE(15,B,2,3,"ng-template",13),t.k0s(),t.j41(16,"ngx-datatable-column",14),t.DNE(17,k,6,6,"ng-template",13),t.k0s()()),2&n){const e=t.XpG();t.Y8G("rows",e.productManagementService.displayedProducts)("count",e.productManagementService.displayedProducts.length)("rowHeight","auto"),t.R7$(),t.Y8G("name",t.bMT(2,9,"::Id")),t.R7$(3),t.Y8G("name",t.bMT(5,11,"::Product Name")),t.R7$(3),t.Y8G("name",t.bMT(8,13,"::Product Price")),t.R7$(3),t.Y8G("name",t.bMT(11,15,"::Product Category")),t.R7$(3),t.Y8G("name",t.bMT(14,17,"::Product Create Date")),t.R7$(3),t.Y8G("sortable",!1)}}function N(n,r){1&n&&(t.j41(0,"div",17)(1,"h4",18),t.EFF(2,"No Products are Available"),t.k0s()())}function D(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-product-form",19),t.bIt("closeModal",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.isModalOpen=!1)}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("productId",e.editedProductId)}}let w=(()=>{class n{list;productManagementService;confirmation;categoriesList=[];selectedCategory="";isModalOpen=!1;editedProductId;modalOptions={centered:!0};constructor(e,a,o){this.list=e,this.productManagementService=a,this.confirmation=o,console.log("List",e)}ngOnInit(){this.getLookup(),this.getData()}getLookup(){this.productManagementService.getCategories().subscribe({next:e=>{this.categoriesList=e}})}getData(){this.productManagementService.getProducts().subscribe()}onOpenModal(e=!1){this.isModalOpen=!0,e||(this.editedProductId="")}onSearch(e){this.productManagementService.searchOnProducts(e.target.value)}onFilterByCategory(e){const a=e.target.value;this.selectedCategory=a,this.productManagementService.filterProductsBasedOnCategory(a)}onClearFilter(){this.selectedCategory="",this.productManagementService.filterProductsBasedOnCategory("")}onEdit(e){this.editedProductId=e,this.onOpenModal(!0)}onDelete(e,a){this.confirmation.warn(`::Are You sure You Want to delete ${e.name} product ?`,"::Delete Product").subscribe(o=>{o===d.m.Status.confirm&&this.productManagementService.deleteProduct(a).subscribe()})}static \u0275fac=function(a){return new(a||n)(t.rXU(u.aGM),t.rXU(j.j),t.rXU(d.td))};static \u0275cmp=t.VBU({type:n,selectors:[["app-product-list"]],standalone:!0,features:[t.Jv_([u.aGM]),t.aNF],decls:16,vars:12,consts:[["Table",""],["NODate",""],["abpBody",""],[3,"title"],[1,"add-action","d-flex","align-items-center","justify-content-end","my-3"],[1,"btn","btn-primary",3,"click"],[1,"filters","my-3"],[3,"searchOnProducts","filterByCategory","clearFilter","categoriesList","selectedCategory"],[4,"ngIf","ngIfElse"],[3,"visibleChange","visible","options"],[3,"ngTemplateOutlet"],["default","",1,"material",3,"rows","count","rowHeight"],[3,"name"],["ngx-datatable-cell-template",""],["name","Actions",3,"sortable"],[1,"btn","btn-primary","btn-sm","m-1",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"no-data","d-flex","align-items-center","justify-content-center","my-5"],[1,"text-muted"],[3,"closeModal","productId"]],template:function(a,o){if(1&a){const c=t.RV6();t.j41(0,"abp-page",3),t.nI1(1,"abpLocalization"),t.j41(2,"div",4)(3,"button",5),t.bIt("click",function(){return t.eBV(c),t.Njj(o.onOpenModal())}),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s()(),t.j41(6,"div",6)(7,"app-filters",7),t.bIt("searchOnProducts",function(l){return t.eBV(c),t.Njj(o.onSearch(l))})("filterByCategory",function(l){return t.eBV(c),t.Njj(o.onFilterByCategory(l))})("clearFilter",function(){return t.eBV(c),t.Njj(o.onClearFilter())}),t.k0s()(),t.DNE(8,L,2,1,"ng-container",8),t.k0s(),t.DNE(9,E,18,19,"ng-template",null,0,t.C5r)(11,N,3,0,"ng-template",null,1,t.C5r),t.j41(13,"abp-modal",9),t.mxI("visibleChange",function(l){return t.eBV(c),t.DH7(o.isModalOpen,l)||(o.isModalOpen=l),t.Njj(l)}),t.DNE(14,D,1,1,"ng-template",null,2,t.C5r),t.k0s()}if(2&a){const c=t.sdS(12);t.Y8G("title",t.bMT(1,8,"::Our product List")),t.R7$(4),t.SpI(" ",t.bMT(5,10,"::Add New Product")," "),t.R7$(3),t.Y8G("categoriesList",o.categoriesList)("selectedCategory",o.selectedCategory),t.R7$(),t.Y8G("ngIf",o.productManagementService.displayedProducts.length)("ngIfElse",c),t.R7$(5),t.R50("visible",o.isModalOpen),t.Y8G("options",o.modalOptions)}},dependencies:[m.MD,m.bT,m.T3,m.oe,m.vh,P,I.iI,u.ewT,u.aM3,f.wq,f.H1,M,g.ge,g.ed,g.QI,d.O6,d.zf,d.Ts,T.default],styles:[".no-data[_ngcontent-%COMP%]{text-align:center;box-shadow:#959da533 0 8px 24px;height:50vh}.product-list-wrapper[_ngcontent-%COMP%]{box-shadow:#959da533 0 8px 24px;padding:20px}"],changeDetection:0})}return n})()}}]);